# SDFAI 系统文档

## 系统概述

SDFAI是一个运行在SDF.org上的AI助手系统，支持COM聊天室交互和飞书消息推送。

## 架构图

```
┌─────────────────────────────────────────────────────────────┐
│                        SDFAI 系统                            │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐     │
│  │  飞书IM     │◄──►│  主LLM      │◄──►│  监督LLM    │     │
│  │  Gateway    │    │  (Kimi)     │    │  (Qwen)     │     │
│  └─────────────┘    └─────────────┘    └─────────────┘     │
│         │                  │                   │            │
│         ▼                  ▼                   ▼            │
│  ┌─────────────────────────────────────────────────────┐   │
│  │              消息队列 (MessageQueue)                 │   │
│  └─────────────────────────────────────────────────────┘   │
│         │                                                   │
│         ▼                                                   │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐     │
│  │  SDF.org    │    │  记忆存储    │    │  安全模块   │     │
│  │  COM聊天    │    │  (Memory)    │    │  (Security) │     │
│  └─────────────┘    └─────────────┘    └─────────────┘     │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

## 核心模块

| 模块 | 说明 | 文档 |
|------|------|------|
| core | 核心功能模块 | [core.md](core.md) |
| channel | 通道模块 | [channel.md](channel.md) |
| memory | 记忆存储 | [memory.md](memory.md) |
| sdf | SDF连接 | [sdf.md](sdf.md) |
| llm | LLM网关 | [llm.md](llm.md) |
| supervisor | AI幻觉监督 | [supervisor.md](supervisor.md) |

## 快速开始

```bash
cd /home/yupeng/sdfai/sdfai
python3 run_sdfai.py
```

## 命令前缀

| 前缀 | 功能 | 示例 |
|------|------|------|
| com: | 发送COM消息 | com: 大家好！ |
| sh: | 执行Shell命令 | sh: ls -la |
| g: | 切换房间 | g: hackers |
| s: | 发送私聊 | s: username 你好 |

## 配置文件

编辑 `sdfai_config.json` 配置各项参数。
